image: freebsd/latest
packages:
    - devel/gmake
    - devel/llvm
    - lang/go
environment:
    CC: clang
    HOST_CC: clang # Required to build Rizin
    RZ_VERSION: 0.4.0 # Required for the integration tests
sources:
    - https://github.com/rizinorg/rz-pm
tasks:
    - build: |
        gmake
    - test: |
        gmake tests
        gmake integration-tests
